# AI Chatbot à¸”à¹‰à¸§à¸¢ LangChain & Next.js

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™ AI Chatbot à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸”à¹‰à¸§à¸¢ [Next.js 15](https://nextjs.org), [LangChain](https://langchain.com) à¹à¸¥à¸° [Supabase](https://supabase.com) à¸¡à¸µà¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸à¸²à¸£à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¹à¸šà¸š real-time streaming, à¸£à¸°à¸šà¸š authentication à¹à¸¥à¸°à¹ƒà¸Šà¹‰ React patterns à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢

## ğŸš€ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸

- **à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¹à¸Šà¸—à¹à¸šà¸š Real-time**: à¸ªà¸£à¹‰à¸²à¸‡à¸”à¹‰à¸§à¸¢ AI SDK React hooks à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸µà¹ˆà¸¥à¸·à¹ˆà¸™à¹„à¸«à¸¥
- **à¸à¸²à¸£à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¹à¸šà¸š Streaming**: AI à¸•à¸­à¸šà¸à¸¥à¸±à¸šà¹à¸šà¸š real-time à¹€à¸à¸·à¹ˆà¸­ UX à¸—à¸µà¹ˆà¸”à¸µà¸‚à¸¶à¹‰à¸™
- **à¸à¸²à¸£à¸£à¸§à¸¡ LangChain**: à¹ƒà¸Šà¹‰ LangChain à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸² AI à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- **Multi-Provider Support**: à¸£à¸­à¸‡à¸£à¸±à¸š OpenAI, Google AI, Azure, OpenRouter, Ollama, vLLM à¹à¸¥à¸° Gradient AI
- **Supabase Authentication**: à¸£à¸°à¸šà¸š login/register/password reset à¸—à¸µà¹ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œà¹à¸šà¸š
- **Chat History & Sessions**: à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¹à¸¥à¸°à¹à¸ªà¸”à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Optimistic Session Management**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ session à¹à¸šà¸š optimistic à¹€à¸à¸·à¹ˆà¸­ UX à¸—à¸µà¹ˆà¸”à¸µà¸‚à¸¶à¹‰à¸™
- **Smart Message Summarization**: à¸£à¸°à¸šà¸šà¸ªà¸£à¸¸à¸›à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸«à¸¢à¸±à¸” token
- **Token Management**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸¥à¸°à¸™à¸±à¸š token à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- **Model Selector**: à¹€à¸¥à¸·à¸­à¸ AI model à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **Math/LaTeX Rendering**: à¹à¸ªà¸”à¸‡à¸ªà¸¹à¸•à¸£à¸—à¸²à¸‡à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œà¸”à¹‰à¸§à¸¢ KaTeX
- **Chat Sidebar**: à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²à¹à¸¥à¸°à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ chat sessions
- **UI à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢**: à¸­à¸´à¸™à¹€à¸—à¸­à¸£à¹Œà¹€à¸Ÿà¸‹à¹à¸Šà¸—à¸—à¸µà¹ˆà¸ªà¸§à¸¢à¸‡à¸²à¸¡à¸”à¹‰à¸§à¸¢ Shadcn/UI à¹à¸¥à¸° Tailwind CSS v4
- **Next.js 15 App Router**: à¹ƒà¸Šà¹‰à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡ Next.js à¹à¸¥à¸° file-based routing
- **Protected Routes**: à¸à¸²à¸£à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢ middleware
- **Modular API Design**: API endpoints à¹à¸šà¹ˆà¸‡à¸•à¸²à¸¡ functionality à¹à¸¥à¸°à¸¡à¸µ tutorial endpoints
- **Settings System**: à¸£à¸°à¸šà¸šà¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸•à¹ˆà¸²à¸‡à¹† à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **Tool Calling & Function Calling**: à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰ tools à¹à¸¥à¸° functions à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- **PostgreSQL Integration**: à¸à¸²à¸£à¸£à¸§à¸¡à¸à¸±à¸š PostgreSQL à¸ªà¸³à¸«à¸£à¸±à¸š tool calling
- **RAG (Retrieval Augmented Generation)**: à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸«à¸²à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¹€à¸­à¸à¸ªà¸²à¸£ PDF/CSV à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¹à¸¡à¹ˆà¸™à¸¢à¸³
- **Document Processing**: à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹„à¸Ÿà¸¥à¹Œ PDF à¹à¸¥à¸° CSV
- **pgvector Integration**: à¹ƒà¸Šà¹‰ pgvector à¸ªà¸³à¸«à¸£à¸±à¸š vector embeddings à¹à¸¥à¸° semantic search
- **Responsive Design**: à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¹‰à¸‡à¹€à¸”à¸ªà¸à¹Œà¸—à¹‡à¸­à¸›à¹à¸¥à¸°à¸¡à¸·à¸­à¸–à¸·à¸­
- **ğŸ”¬ Acne Detection System**: à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§à¸”à¹‰à¸§à¸¢ YOLOv7 Deep Learning à¸à¸£à¹‰à¸­à¸¡à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸”à¹‰à¸§à¸¢ AI

## ğŸ”¬ à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§à¸”à¹‰à¸§à¸¢ YOLOv7

à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œà¸™à¸µà¹‰à¸¡à¸µà¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§ (Acne Detection) à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ **YOLOv7** (You Only Look Once version 7) à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¹à¸¥à¸°à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸ªà¸´à¸§à¸šà¸™à¹ƒà¸šà¸«à¸™à¹‰à¸²à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ

### ğŸ“Š à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š YOLOv7

**YOLOv7** à¹€à¸›à¹‡à¸™ Object Detection Model à¸£à¸¸à¹ˆà¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¹‚à¸”à¸¢ [WongKinYiu](https://github.com/WongKinYiu/yolov7) à¸¡à¸µà¸„à¸§à¸²à¸¡à¹‚à¸”à¸”à¹€à¸”à¹ˆà¸™à¹ƒà¸™à¸”à¹‰à¸²à¸™:

- **à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§à¸ªà¸¹à¸‡**: à¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹à¸šà¸š Real-time à¹„à¸”à¹‰
- **à¸„à¸§à¸²à¸¡à¹à¸¡à¹ˆà¸™à¸¢à¸³**: à¸¡à¸µ State-of-the-art performance à¹ƒà¸™à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸§à¸±à¸•à¸–à¸¸
- **à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸**: à¹ƒà¸Šà¹‰à¸—à¸£à¸±à¸à¸¢à¸²à¸à¸£à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¹‚à¸¡à¹€à¸”à¸¥à¸£à¸¸à¹ˆà¸™à¸à¹ˆà¸­à¸™

### ğŸ¯ à¸à¸²à¸£à¸›à¸£à¸°à¸¢à¸¸à¸à¸•à¹Œà¹ƒà¸Šà¹‰à¸à¸±à¸šà¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§

à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œà¸™à¸µà¹‰à¸™à¸³ YOLOv7 à¸¡à¸²à¸›à¸£à¸±à¸šà¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§ à¹‚à¸”à¸¢à¸¡à¸µà¸à¸£à¸°à¸šà¸§à¸™à¸à¸²à¸£à¸”à¸±à¸‡à¸™à¸µà¹‰:

#### 1. **Dataset à¹à¸¥à¸°à¸à¸²à¸£à¹€à¸•à¸£à¸µà¸¢à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥**
- à¹ƒà¸Šà¹‰ **Acne04 Dataset** à¸ˆà¸²à¸ [LDL Repository](https://github.com/xpwu95/LDL)
- Dataset à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢à¸ à¸²à¸à¹ƒà¸šà¸«à¸™à¹‰à¸²à¸à¸£à¹‰à¸­à¸¡ Bounding Boxes à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸ªà¸´à¸§
- à¹à¸›à¸¥à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ VOC format à¹€à¸›à¹‡à¸™ YOLO format
- à¹à¸šà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™ Training set à¹à¸¥à¸° Validation set

#### 2. **Model Architecture**
```
Input Image (640x640)
      â†“
YOLOv7 Backbone (Feature Extraction)
      â†“
Neck (Feature Pyramid)
      â†“
Detection Head
      â†“
Bounding Boxes + Confidence Scores
```

#### 3. **à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š**

**Frontend (Next.js)**
- à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¸ à¸²à¸à¹ƒà¸šà¸«à¸™à¹‰à¸²
- à¹à¸ªà¸”à¸‡ preview à¹à¸¥à¸° confidence threshold slider
- à¹à¸ªà¸”à¸‡à¸œà¸¥à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¹à¸šà¸š real-time

**Backend (FastAPI + PyTorch)**
- à¹‚à¸«à¸¥à¸”à¹‚à¸¡à¹€à¸”à¸¥ YOLOv7 (`acne_detection_best.pt`)
- Preprocessing: Resize, Normalize, Convert to Tensor
- Inference: à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸ªà¸´à¸§à¹à¸¥à¸° Confidence Score
- Postprocessing: Non-Maximum Suppression (NMS)
- à¸ªà¹ˆà¸‡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸à¸¥à¸±à¸šà¹„à¸›à¸¢à¸±à¸‡ Frontend

**AI Analysis (LLM Integration)**
- à¸™à¸³à¸œà¸¥à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ LLM (Gemini/GPT)
- à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¸£à¸¸à¸™à¹à¸£à¸‡
- à¹ƒà¸«à¹‰à¸„à¸³à¹à¸™à¸°à¸™à¸³à¸à¸²à¸£à¸”à¸¹à¹à¸¥à¸œà¸´à¸§à¹€à¸‰à¸à¸²à¸°à¸šà¸¸à¸„à¸„à¸¥

#### 4. **Technical Specifications**

| Component | Details |
|-----------|---------|
| Model | YOLOv7 Custom (acne_detection_best.pt) |
| Framework | PyTorch + Ultralytics |
| Input Size | 640x640 pixels |
| Classes | `acne` (1 class) |
| Model Size | ~71.3 MB |
| Inference Time | 3-5 seconds (CPU) |
| Confidence Threshold | 0.25 (default, adjustable) |

#### 5. **Data Flow Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User       â”‚â”€â”€â”€â†’â”‚   Next.js    â”‚â”€â”€â”€â†’â”‚   FastAPI    â”‚â”€â”€â”€â†’â”‚   YOLOv7     â”‚
â”‚   Upload     â”‚    â”‚   Frontend   â”‚    â”‚   Python     â”‚    â”‚   Model      â”‚
â”‚   Image      â”‚    â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                                         â”‚
                            â”‚                                         â”‚
                            â–¼                                         â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   LLM        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Detection   â”‚
                    â”‚   Analysis   â”‚                        â”‚  Results     â”‚
                    â”‚  (Gemini/GPT)â”‚                        â”‚  (JSON)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Analysis & Recommendations  â”‚
                    â”‚  â€¢ Severity Assessment       â”‚
                    â”‚  â€¢ Skincare Advice           â”‚
                    â”‚  â€¢ Treatment Suggestions     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6. **API Endpoints**

**Python FastAPI Server** (`http://localhost:8000`)
```bash
GET  /health         # Health check
GET  /info           # Model information
POST /detect         # Detect acne from image
```

**Next.js API Routes**
```bash
POST /api/detect-acne    # Upload & detect acne
POST /api/analyze-acne   # LLM analysis of detection results
```

#### 7. **Detection Output Format**

```json
{
  "success": true,
  "image_size": {"width": 640, "height": 480},
  "detections_count": 5,
  "detections": [
    {
      "bbox": {
        "x": 150.5,
        "y": 200.3,
        "width": 40.2,
        "height": 35.8
      },
      "confidence": 0.87,
      "class": 0,
      "class_name": "acne"
    }
  ],
  "model_info": {
    "name": "YOLOv7 Acne Detection",
    "version": "v1.0",
    "classes": ["acne"]
  }
}
```

### ï¿½ à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸ªà¸´à¸§

```bash
# 1. à¹€à¸£à¸´à¹ˆà¸¡ Python ML Server
cd aichatbot-langchain
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
pip install -r requirements.txt
python inference_server.py

# 2. à¹€à¸£à¸´à¹ˆà¸¡ Next.js (Terminal à¹ƒà¸«à¸¡à¹ˆ)
npm run dev

# 3. à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ
open http://localhost:3000/detect
```

à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ **Auto-start Script**:
```bash
./start.sh
```

### ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
- [Original YOLOv7 Repository](https://github.com/WongKinYiu/yolov7) - Official YOLOv7
- [Skin Disease Recognition Project](https://github.com/Kritchanaxt/skin-disease-recognition) - à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œà¸•à¹‰à¸™à¹à¸šà¸š

### ğŸ“ à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡

à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œà¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¸ˆà¸²à¸:
- **YOLOv7 Official Implementation**: [WongKinYiu/yolov7](https://github.com/WongKinYiu/yolov7)
- **Skin Disease Recognition Project**: [Kritchanaxt/skin-disease-recognition](https://github.com/Kritchanaxt/skin-disease-recognition)
- **Acne04 Dataset**: [LDL Repository](https://github.com/xpwu95/LDL)

---

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

- **Frontend**: Next.js 15, React 19, TypeScript, Tailwind CSS v4, Shadcn/UI
- **AI/ML**: 
  - LangChain, OpenAI API, Google Generative AI, AI SDK
  - **YOLOv7** (Object Detection)
  - **PyTorch** (Deep Learning Framework)
  - Tool Calling, Function Calling
- **Computer Vision**: OpenCV, Pillow, NumPy
- **ML Server**: FastAPI, Uvicorn, Python 3.8+
- **Database & Auth**: Supabase (PostgreSQL, Authentication, Real-time), pgvector
- **Backend**: Next.js API Routes (Edge Runtime)
- **Document Processing**: PDF parsing, CSV processing, Vector embeddings
- **RAG**: LangChain Document Loaders, pgvector, Semantic Search
- **Styling**: Tailwind CSS v4, Radix UI Components, KaTeX
- **Development**: TypeScript, ESLint, tw-animate-css
- **Version Control**: Git, GitHub

## ğŸ“‹ à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¹€à¸•à¸£à¸µà¸¢à¸¡à¸à¹ˆà¸­à¸™à¹€à¸£à¸´à¹ˆà¸¡

à¸à¹ˆà¸­à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹ƒà¸«à¹‰à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸„à¸¸à¸“à¹„à¸”à¹‰à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸ªà¸´à¹ˆà¸‡à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰à¹à¸¥à¹‰à¸§:

- **Node.js 20 à¸‚à¸¶à¹‰à¸™à¹„à¸›**
- **npm** à¸«à¸£à¸·à¸­ **yarn**
- **Git**
- **OpenAI API Key**
- **Supabase Account** (à¸ªà¸¡à¸±à¸„à¸£à¸Ÿà¸£à¸µà¸—à¸µà¹ˆ [supabase.com](https://supabase.com))

### à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™ Node.js
node -v
npm -v

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Git
git version

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š VS Code (à¹€à¸ªà¸£à¸´à¸¡)
code --version
```

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

1. **à¹‚à¸„à¸¥à¸™ repository**
```bash
git clone <repository-url>
cd aichatbot-langchain-nextjs
```

2. **à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies**
```bash
npm install
```

3. **à¸ªà¸£à¹‰à¸²à¸‡ Supabase Project**
   - à¹„à¸›à¸—à¸µà¹ˆ [https://supabase.com](https://supabase.com) à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œà¹ƒà¸«à¸¡à¹ˆ
   - à¹€à¸¥à¸·à¸­à¸ region à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¸—à¸µà¹ˆà¸ªà¸¸à¸” (à¹à¸™à¸°à¸™à¸³ Southeast Asia - Singapore)
   - à¸„à¸±à¸”à¸¥à¸­à¸ Project URL à¹à¸¥à¸° API Key

4. **à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² environment variables**
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸ (à¸”à¸¹à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¹ƒà¸™ `.env.example`):
```env
# === Supabase config =====
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url-here
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your-supabase-anon-key-here

# === OPENAI (ChatGPT) =====
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL_NAME="gpt-4o-mini"
```

5. **à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ UI Components (à¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸—à¸³)**
```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Shadcn/UI
npx shadcn@latest init

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Supabase Authentication UI
npx shadcn@latest add https://supabase.com/ui/r/password-based-auth-nextjs.json
```

6. **à¸£à¸±à¸™ development server**
```bash
npm run dev
```

7. **à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ**
à¹„à¸›à¸—à¸µà¹ˆ [http://localhost:3000](http://localhost:3000) à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š

### à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸«à¸¥à¸±à¸ - AI Chat System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        User Question                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AI Agent (LangChain)                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ search_documentsâ”‚ â”‚ get_product_infoâ”‚ â”‚ get_sales_data  â”‚    â”‚
â”‚  â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚    â”‚
â”‚  â”‚ Vector Search   â”‚ â”‚ Structured DB   â”‚ â”‚ Sales History   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Sources                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ documents  â”‚ â”‚ products table  â”‚ â”‚ sales table     â”‚    â”‚
â”‚  â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚    â”‚
â”‚  â”‚ pgvector        â”‚ â”‚ PostgreSQL      â”‚ â”‚ PostgreSQL      â”‚    â”‚
â”‚  â”‚ (embeddings)    â”‚ â”‚ (structured)    â”‚ â”‚ (structured)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡ RAG Pipeline - Document Processing & Vector Storage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Documents     â”‚â”€â”€â”€â–¶â”‚   Text Splitter  â”‚â”€â”€â”€â–¶â”‚   OpenAI        â”‚
â”‚   (.txt, .csv)  â”‚    â”‚   (Chunking)     â”‚    â”‚   Embeddings    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cache Store    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ CacheBackedEmb  â”‚
â”‚ (InMemoryStore) â”‚                               â”‚   (âš¡ Caching)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vector Store  â”‚â—€â”€â”€â”€â”‚   Supabase       â”‚â—€â”€â”€â”€â”‚   Vector Data   â”‚
â”‚   (pgvector)    â”‚    â”‚   Database       â”‚    â”‚   (1536 dims)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œ

```
skin-vision-ai/
â”œâ”€â”€ aichatbot-langchain/              # à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                 # à¸£à¸°à¸šà¸š Authentication
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ confirm/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Email confirmation endpoint
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ error/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Authentication error page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ forgot-password/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Forgot password page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Login page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sign-up/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Registration page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sign-up-success/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Registration success page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-password/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # Update password page
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx        # Auth layout
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                  # API Routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ analyze-acne/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # ğŸ”¬ Acne analysis with LLM endpoint
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ detect-acne/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # ğŸ”¬ Acne detection with YOLOv7 endpoint
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Chat API endpoint (production)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_01_start/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Step 1: Basic chat setup
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_02_request/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Step 2: Request handling
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_03_template/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Step 3: Prompt templates
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_04_stream/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Step 4: Streaming responses
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_05_history/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # Step 5: Chat history management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_06_history_optimistic/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 6.1: Advanced optimistic history
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # Session management endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_06_history_optimize/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 6.2: History optimization & summarization
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # Optimized session endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_07_tool_calling_postgres/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 7.1: Tool calling with PostgreSQL
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # Session management with tools
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_07_tool_calling_sample/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 7.2: Sample tool calling
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # Sample session endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_08_rag/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 8: RAG (Retrieval Augmented Generation)
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # RAG session management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat_09_rag_tool_calling/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts      # Step 9: RAG + Tool Calling Integration
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # RAG + Tool calling session management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ document_loader_embeding_pgvector/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ text_csv/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts  # CSV document processing & embeddings
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ text_csv_pdf/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts  # PDF + CSV document processing & embeddings
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts          # Base API routes (GET, POST, PUT, DELETE)
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/                 # Chat Pages
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx        # Chat layout (protected)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # Chat interface (authenticated users only)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page_archive.tsx  # Archived chat page
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx      # Individual chat conversation page
â”‚   â”‚   â”‚   â”œâ”€â”€ detect/               # ğŸ”¬ Acne Detection Page
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # Acne detection interface with YOLOv7
â”‚   â”‚   â”‚   â”œâ”€â”€ favicon.ico           # App favicon
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css           # Global styles with Tailwind v4 + KaTeX CSS
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx            # Root layout
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # Landing/home page
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                   # Shadcn/UI Components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx  # Alert dialog component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ avatar.tsx        # Avatar component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx        # Button component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx          # Card component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat-container.tsx # Chat container component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ code-block.tsx    # Code syntax highlighting component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx # Dropdown menu component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx         # Input component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ label.tsx         # Label component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ markdown.tsx      # Markdown + LaTeX rendering component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ message.tsx       # Chat message component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ popover.tsx       # Popover component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ progress.tsx      # Progress bar component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ prompt-input.tsx  # Enhanced prompt input component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ scroll-button.tsx # Scroll to bottom button
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ separator.tsx     # Separator component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sheet.tsx         # Sheet component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx       # Sidebar component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ skeleton.tsx      # Loading skeleton component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ slider.tsx        # Slider component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ table.tsx         # Table component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tabs.tsx          # Tabs component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ textarea.tsx      # Textarea component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ theme-toggle.tsx  # Dark/Light mode toggle
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ tooltip.tsx       # Tooltip component
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/             # Settings Components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ account-tab.tsx   # Account settings tab
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ connectors-tab.tsx # API connectors settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data-controls-tab.tsx # Data control settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ general-tab.tsx   # General settings tab
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts          # Settings components exports
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notifications-tab.tsx # Notifications settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ personalization-tab.tsx # UI personalization settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ schedules-tab.tsx # Schedules settings
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ security-tab.tsx  # Security settings tab
â”‚   â”‚   â”‚   â”œâ”€â”€ acne-detection.tsx    # ğŸ”¬ Acne detection component with YOLOv7
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-history.tsx      # Chat history management component
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-sidebar.tsx      # Chat sidebar with conversation history
â”‚   â”‚   â”‚   â”œâ”€â”€ forgot-password-form.tsx # Forgot password form (Supabase UI)
â”‚   â”‚   â”‚   â”œâ”€â”€ login-form.tsx        # Login form component (Supabase UI)
â”‚   â”‚   â”‚   â”œâ”€â”€ logout-button.tsx     # Logout button component (Supabase UI)
â”‚   â”‚   â”‚   â”œâ”€â”€ model-selector.tsx    # AI model selection component
â”‚   â”‚   â”‚   â”œâ”€â”€ new-chat-simple.tsx   # Simple new chat button
â”‚   â”‚   â”‚   â”œâ”€â”€ new-chat.tsx          # Advanced new chat component
â”‚   â”‚   â”‚   â”œâ”€â”€ sign-up-form.tsx      # Registration form (Supabase UI)
â”‚   â”‚   â”‚   â””â”€â”€ update-password-form.tsx # Update password form (Supabase UI)
â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts                # API endpoints constants and URL builders
â”‚   â”‚   â”‚   â””â”€â”€ models.ts             # AI model constants and configurations
â”‚   â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â”‚   â””â”€â”€ chat-context.tsx      # Chat context provider for state management
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ use-chat-history.ts   # Custom hook for chat history management
â”‚   â”‚   â”‚   â”œâ”€â”€ use-chat-sessions.ts  # Custom hook for session management
â”‚   â”‚   â”‚   â””â”€â”€ use-mobile.ts         # Custom hook for mobile detection
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts             # Supabase client configurations
â”‚   â”‚   â”‚   â”œâ”€â”€ custom-chat-transport.ts # Custom chat transport layer
â”‚   â”‚   â”‚   â”œâ”€â”€ database.ts           # PostgreSQL connection pool utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware.ts         # Authentication middlewares
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts             # Server-side Supabase utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ theme-provider.tsx    # Theme provider for dark/light mode
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts              # Utility functions (Tailwind merge, etc.)
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ acne-detection.ts     # ğŸ”¬ TypeScript types for acne detection
â”‚   â”‚   â””â”€â”€ middleware.ts             # Next.js middleware for auth protection
â”‚   â”œâ”€â”€ data/                         # Data files for RAG
â”‚   â”‚   â”œâ”€â”€ pdf/
â”‚   â”‚   â”‚   â””â”€â”€ product.pdf           # Sample PDF document for RAG testing
â”‚   â”‚   â””â”€â”€ text_csv/
â”‚   â”‚       â”œâ”€â”€ infomation.txt        # Sample text file (typo: should be information)
â”‚   â”‚       â””â”€â”€ product.csv           # Sample CSV file for structured data
â”‚   â”œâ”€â”€ logs/                         # Log files
â”‚   â”‚   â””â”€â”€ mock_server.log           # Mock server logs
â”‚   â”œâ”€â”€ model/                        # ğŸ”¬ ML Models & Configuration
â”‚   â”‚   â”œâ”€â”€ acne_detection_best.pt    # YOLOv7 trained model for acne detection
â”‚   â”‚   â””â”€â”€ model_info.yaml           # Model metadata and configuration
â”‚   â”œâ”€â”€ public/                       # Static assets
â”‚   â”‚   â”œâ”€â”€ file.svg
â”‚   â”‚   â”œâ”€â”€ globe.svg
â”‚   â”‚   â”œâ”€â”€ next.svg
â”‚   â”‚   â”œâ”€â”€ vercel.svg
â”‚   â”‚   â””â”€â”€ window.svg
â”‚   â”œâ”€â”€ .env                          # Environment variables (à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰)
â”‚   â”œâ”€â”€ .env.example                  # Template à¸ªà¸³à¸«à¸£à¸±à¸š environment variables
â”‚   â”œâ”€â”€ .gitignore                    # Git ignore rules
â”‚   â”œâ”€â”€ check_mock_server.sh          # ğŸ”¬ Script to check mock server status
â”‚   â”œâ”€â”€ components.json               # Shadcn/UI configuration
â”‚   â”œâ”€â”€ Day8_Note.md                  # à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸­à¸šà¸£à¸¡ Day 8
â”‚   â”œâ”€â”€ eslint.config.mjs             # ESLint configuration
â”‚   â”œâ”€â”€ inference_server.py           # ğŸ”¬ FastAPI server for YOLOv7 inference
â”‚   â”œâ”€â”€ inference_server_mock.py      # ğŸ”¬ Mock server for testing without model
â”‚   â”œâ”€â”€ next-env.d.ts                 # Next.js TypeScript declarations
â”‚   â”œâ”€â”€ next.config.ts                # Next.js configuration
â”‚   â”œâ”€â”€ NOTE.md                       # Project notes
â”‚   â”œâ”€â”€ package.json                  # Dependencies à¹à¸¥à¸° scripts
â”‚   â”œâ”€â”€ postcss.config.mjs            # PostCSS configuration
â”‚   â”œâ”€â”€ requirements.txt              # ğŸ”¬ Python dependencies for ML server
â”‚   â”œâ”€â”€ start.sh                      # ğŸ”¬ Auto-start script for both servers
â”‚   â”œâ”€â”€ test_api.py                   # ğŸ”¬ API testing script
â”‚   â”œâ”€â”€ tsconfig.json                 # TypeScript configuration
â”‚   â””â”€â”€ README.md                     # Documentation (à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ aichatbot-langchain)
â””â”€â”€ README.md                         # ğŸ“„ Main documentation (à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰ - root level)
```

### ğŸ“ à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡

#### ğŸ” **Authentication System (à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™)**
- **`/auth/login`**: à¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢ Supabase Auth
- **`/auth/sign-up`**: à¸«à¸™à¹‰à¸²à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸„à¸à¸£à¹‰à¸­à¸¡ email confirmation
- **`/auth/forgot-password`**: à¸«à¸™à¹‰à¸²à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- **`/auth/update-password`**: à¸«à¸™à¹‰à¸²à¸­à¸±à¸›à¹€à¸”à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹ƒà¸«à¸¡à¹ˆ
- **`/auth/confirm`**: Endpoint à¸ªà¸³à¸«à¸£à¸±à¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸­à¸µà¹€à¸¡à¸¥
- **`/auth/error`**: à¸«à¸™à¹‰à¸²à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- **`/chat`**: à¸«à¸™à¹‰à¸²à¹à¸Šà¸—à¸«à¸¥à¸±à¸ (Protected Route - à¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š)

#### ğŸ¤– **API Endpoints**
- **`/api/route.ts`**: API endpoints à¸à¸·à¹‰à¸™à¸à¸²à¸™ (GET, POST, PUT, DELETE)
- **`/api/chat/route.ts`**: Chat API à¸«à¸¥à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸š production
- **`/api/chat_01_start/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1 - à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² chat à¸à¸·à¹‰à¸™à¸à¸²à¸™
- **`/api/chat_02_request/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2 - à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ HTTP requests
- **`/api/chat_03_template/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3 - à¸à¸²à¸£à¹ƒà¸Šà¹‰ Prompt templates
- **`/api/chat_04_stream/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 4 - à¸à¸²à¸£à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¹à¸šà¸š streaming
- **`/api/chat_05_history/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 5 - à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²
- **`/api/chat_06_history_optimistic/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 6.1 - à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸Šà¸—à¹à¸šà¸š optimistic à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- **`/api/chat_06_history_optimize/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 6.2 - à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¸›à¸£à¸°à¸§à¸±à¸•à¸´
- **`/api/chat_07_tool_calling_postgres/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 7.1 - Tool calling à¸à¸£à¹‰à¸­à¸¡ PostgreSQL integration
- **`/api/chat_07_tool_calling_sample/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 7.2 - à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Tool calling à¹à¸¥à¸° Function calling
- **`/api/chat_08_rag/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 8 - RAG (Retrieval Augmented Generation)
- **`/api/chat_09_rag_tool_calling/`**: à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 9 - RAG + Tool Calling Integration
- **`/api/document_loader_embeding_pgvector/text_csv/`**: CSV document processing à¹à¸¥à¸° vector embeddings
- **`/api/document_loader_embeding_pgvector/text_csv_pdf/`**: PDF + CSV document processing à¹à¸¥à¸° vector embeddings

#### ğŸ¨ **UI Components**
- **`/components/ui/`**: 
  - **Shadcn/UI Components**: Button, Card, Input, Label, Avatar, Tooltip, Dropdown-menu, Table, Theme-toggle
  - **Chat Components**: Message, Chat-container, Markdown (with LaTeX support), Code-block
  - **Layout Components**: Sidebar, Sheet, Popover, Separator
  - **Form Components**: Textarea, Prompt-input
  - **Utility Components**: Skeleton (loading), Scroll-button
- **`/components/`**: 
  - **Authentication Forms**: Login, Sign-up, Forgot-password, Update-password
  - **Chat Features**: Chat-sidebar, Chat-history, New-chat (simple & advanced), Model-selector
  - **User Actions**: Logout-button
- **`/components/settings/`**: 
  - **Account Management**: Account-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸±à¸à¸Šà¸µà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
  - **API Configuration**: Connectors-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² API providers
  - **Data Controls**: Data-controls-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
  - **General Settings**: General-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸—à¸±à¹ˆà¸§à¹„à¸›
  - **Notifications**: Notifications-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™
  - **Personalization**: Personalization-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡ UI
  - **Schedules**: Schedules-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸•à¸²à¸£à¸²à¸‡à¹€à¸§à¸¥à¸²
  - **Security**: Security-tab à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

#### ğŸ§© **Context & State Management**
- **`/contexts/chat-context.tsx`**: React Context à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ state à¸‚à¸­à¸‡à¸à¸²à¸£à¹à¸Šà¸—
  - Chat messages history
  - Current conversation state
  - Chat settings à¹à¸¥à¸° preferences

#### ğŸ£ **Custom Hooks**
- **`/hooks/use-mobile.ts`**: Custom hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­
  - Responsive design utilities
  - Mobile-specific UI behaviors
- **`/hooks/use-chat-history.ts`**: Custom hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹à¸Šà¸—
  - Chat history state management
  - History loading à¹à¸¥à¸° caching
- **`/hooks/use-chat-sessions.ts`**: Custom hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ chat sessions
  - Session creation à¹à¸¥à¸° management
  - Session switching à¹à¸¥à¸° navigation

#### ğŸ“¦ **Constants & Configuration**
- **`/constants/api.ts`**: à¸„à¹ˆà¸²à¸„à¸‡à¸—à¸µà¹ˆà¹à¸¥à¸° utilities à¸ªà¸³à¸«à¸£à¸±à¸š API endpoints
  - API base URLs à¹à¸¥à¸° endpoints configuration
  - URL builder functions à¸ªà¸³à¸«à¸£à¸±à¸š dynamic parameters
  - Tool calling API endpoints management
- **`/constants/models.ts`**: à¸„à¹ˆà¸²à¸„à¸‡à¸—à¸µà¹ˆà¹à¸¥à¸°à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸ªà¸³à¸«à¸£à¸±à¸š AI models
  - Model configurations
  - Provider settings

- **`/lib/`**: 
  - **Supabase**: Client configurations, server utilities
  - **Authentication**: Middleware functions
  - **Database**: PostgreSQL connection pool à¹à¸¥à¸° utilities
  - **Theme Provider**: Dark/light mode management
  - **Chat Transport**: Custom chat transport layer
  - **Utilities**: Tailwind merge, helper functions

#### ğŸ›¡ï¸ **Middleware & Protection**
- **`/middlewares.ts`**: Next.js middleware à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¹‰à¸­à¸‡à¸à¸±à¸™ protected routes
- **`/lib/middlewares.ts`**: Authentication helper functions
- **Route Protection**: Chat routes à¸•à¹‰à¸­à¸‡à¸œà¹ˆà¸²à¸™à¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸à¹ˆà¸­à¸™

## ğŸ¯ Dependencies à¸ªà¸³à¸„à¸±à¸

### ğŸ¤– AI/ML Framework
```json
{
  "langchain": "à¹€à¸Ÿà¸£à¸¡à¹€à¸§à¸´à¸£à¹Œà¸à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸­à¸› AI à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡",
  "@langchain/core": "à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸«à¸¥à¸±à¸à¹à¸¥à¸° abstractions à¸‚à¸­à¸‡ LangChain",
  "@langchain/openai": "à¸à¸²à¸£à¸£à¸§à¸¡ OpenAI API à¸ªà¸³à¸«à¸£à¸±à¸š LangChain",
  "@langchain/google-genai": "à¸à¸²à¸£à¸£à¸§à¸¡ Google Generative AI",
  "@langchain/community": "Community integrations à¹à¸¥à¸° document loaders",
  "@ai-sdk/langchain": "à¸•à¸±à¸§à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ LangChain à¸ªà¸³à¸«à¸£à¸±à¸š AI SDK",
  "@ai-sdk/react": "React hooks à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸­à¸› AI (useChat, useAssistant)",
  "ai": "AI SDK à¸ªà¸³à¸«à¸£à¸±à¸š streaming à¹à¸¥à¸°à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡"
}
```

### âš›ï¸ Frontend Framework & UI
```json
{
  "next": "React framework à¸ªà¸³à¸«à¸£à¸±à¸š production (v15.5.2)",
  "react": "Library à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡ user interfaces (v19.1.0)",
  "react-dom": "React DOM renderer (v19.1.0)",
  "typescript": "Type-safe JavaScript",
  "@radix-ui/react-*": "Radix UI components à¸ªà¸³à¸«à¸£à¸±à¸š accessibility",
  "tailwindcss": "Utility-first CSS framework (v4)",
  "class-variance-authority": "à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ CSS classes à¹à¸šà¸š type-safe",
  "tailwind-merge": "à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸§à¸¡ Tailwind CSS classes à¸­à¸¢à¹ˆà¸²à¸‡à¸‰à¸¥à¸²à¸”",
  "clsx": "Utility à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡ className strings à¹à¸šà¸šà¸¡à¸µà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚",
  "lucide-react": "Icon library à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¹à¸¥à¸°à¸ªà¸§à¸¢à¸‡à¸²à¸¡"
}
```

### ğŸ” Authentication & Database
```json
{
  "@supabase/supabase-js": "Supabase JavaScript client",
  "@supabase/ssr": "Supabase Server-Side Rendering helpers",
  "pg": "PostgreSQL client à¸ªà¸³à¸«à¸£à¸±à¸š Node.js",
  "@types/pg": "TypeScript definitions à¸ªà¸³à¸«à¸£à¸±à¸š pg"
}
```

### ğŸ“ Document Processing & RAG
```json
{
  "pdf-parse": "PDF document parsing à¹à¸¥à¸° text extraction",
  "d3-dsv": "CSV à¹à¸¥à¸° TSV file parsing à¹à¸¥à¸° processing",
  "zod": "Schema validation à¹à¸¥à¸° type-safe data parsing"
}
```

### ï¿½ Markdown & Math Rendering
```json
{
  "react-markdown": "React component à¸ªà¸³à¸«à¸£à¸±à¸š render Markdown",
  "remark-gfm": "GitHub Flavored Markdown support",
  "remark-breaks": "Support line breaks à¹ƒà¸™ Markdown",
  "remark-math": "Support LaTeX math notation à¹ƒà¸™ Markdown",
  "rehype-katex": "Render LaTeX math à¹€à¸›à¹‡à¸™ HTML à¸”à¹‰à¸§à¸¢ KaTeX",
  "katex": "Fast math typesetting library",
  "marked": "Markdown parser à¹à¸¥à¸° compiler",
  "shiki": "Syntax highlighter à¸ªà¸³à¸«à¸£à¸±à¸š code blocks"
}
```

### âš¡ Performance & Utilities
```json
{
  "use-stick-to-bottom": "Auto-scroll utilities à¸ªà¸³à¸«à¸£à¸±à¸š chat interface",
  "tw-animate-css": "Tailwind CSS animations utilities"
}
```

### ğŸ› ï¸ Development Tools
```json
{
  "eslint": "Linting tool à¸ªà¸³à¸«à¸£à¸±à¸š JavaScript/TypeScript",
  "eslint-config-next": "Next.js specific ESLint configuration",
  "@eslint/eslintrc": "ESLint configuration utilities",
  "@tailwindcss/postcss": "PostCSS plugin à¸ªà¸³à¸«à¸£à¸±à¸š Tailwind CSS v4",
  "@types/*": "TypeScript type definitions"
}
```

## ğŸ“œ Scripts à¸—à¸µà¹ˆà¸¡à¸µà¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰

```bash
npm run dev      # à¹€à¸£à¸´à¹ˆà¸¡ development server
npm run build    # à¸ªà¸£à¹‰à¸²à¸‡ production build
npm run start    # à¹€à¸£à¸´à¹ˆà¸¡ production server
npm run lint     # à¸£à¸±à¸™ ESLint
```

## ğŸ”Œ API Endpoints

### Authentication Endpoints
- **GET/POST `/auth/login`**: à¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- **GET/POST `/auth/sign-up`**: à¸«à¸™à¹‰à¸²à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
- **GET/POST `/auth/forgot-password`**: à¸«à¸™à¹‰à¸²à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- **GET `/auth/confirm`**: à¸¢à¸·à¸™à¸¢à¸±à¸™à¸­à¸µà¹€à¸¡à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### Chat API Endpoints
- **POST `/api/chat`**: Chat API à¸«à¸¥à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸š production
- **POST `/api/chat_01_start`**: à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ AI model à¸à¸·à¹‰à¸™à¸à¸²à¸™
- **POST `/api/chat_02_request`**: à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ request/response
- **POST `/api/chat_03_template`**: à¸—à¸”à¸ªà¸­à¸š prompt templates
- **POST `/api/chat_04_stream`**: à¸—à¸”à¸ªà¸­à¸š streaming responses
- **POST `/api/chat_05_history`**: à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²
- **POST `/api/chat_06_history_optimistic`**: à¸£à¸°à¸šà¸šà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸Šà¸—à¹à¸šà¸š optimistic à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- **POST `/api/chat_06_history_optimize`**: à¸£à¸°à¸šà¸šà¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¹à¸¥à¸° token management
- **POST `/api/chat_07_tool_calling_postgres`**: Tool calling à¸à¸£à¹‰à¸­à¸¡ PostgreSQL integration
- **POST `/api/chat_07_tool_calling_sample`**: à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Tool calling à¹à¸¥à¸° Function calling
- **POST `/api/chat_08_rag`**: RAG (Retrieval Augmented Generation) implementation
- **POST `/api/chat_09_rag_tool_calling`**: RAG à¸à¸£à¹‰à¸­à¸¡ Tool Calling integration

### Document & RAG Endpoints
- **POST `/api/document_loader_embeding_pgvector/text_csv`**: CSV document processing à¹à¸¥à¸° vector embeddings
- **POST `/api/document_loader_embeding_pgvector/text_csv_pdf`**: PDF + CSV document processing à¹à¸¥à¸° vector embeddings

### Session Management Endpoints
- **POST `/api/chat_06_history_optimistic/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¹à¸šà¸š optimistic
- **POST `/api/chat_06_history_optimize/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸à¸£à¹‰à¸­à¸¡ optimization
- **POST `/api/chat_07_tool_calling_postgres/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸à¸£à¹‰à¸­à¸¡ tool calling
- **POST `/api/chat_07_tool_calling_sample/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸ªà¸³à¸«à¸£à¸±à¸š sample tools
- **POST `/api/chat_08_rag/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸ªà¸³à¸«à¸£à¸±à¸š RAG
- **POST `/api/chat_09_rag_tool_calling/session`**: à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸ªà¸³à¸«à¸£à¸±à¸š RAG + Tool Calling

### POST /api/chat (Production)
Endpoint à¸«à¸¥à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²à¸à¸±à¸š AI

**à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ:**
- à¸à¸²à¸£à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¹à¸šà¸š streaming
- LangChain prompt templates
- à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ error
- Edge runtime à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¸—à¸µà¹ˆà¸”à¸µà¸à¸§à¹ˆà¸²
- Session management à¸œà¹ˆà¸²à¸™ Supabase

**Request Body:**
```json
{
  "messages": [
    {
      "id": "message-id",
      "role": "user",
      "parts": [{"type": "text", "text": "à¸ªà¸§à¸±à¸ªà¸”à¸µ AI!"}]
    }
  ]
}
      "role": "user",
      "parts": [{"type": "text", "text": "à¸ªà¸§à¸±à¸ªà¸”à¸µ AI!"}]
    }
  ]
}
```

## ğŸ¨ UI Components & Features

à¸­à¸´à¸™à¹€à¸—à¸­à¸£à¹Œà¹€à¸Ÿà¸‹à¹à¸Šà¸—à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢:

### ğŸ” **Authentication System**
- **Login Form**: à¸Ÿà¸­à¸£à¹Œà¸¡à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸à¸£à¹‰à¸­à¸¡ validation à¹à¸¥à¸° error handling
- **Registration Form**: à¸Ÿà¸­à¸£à¹Œà¸¡à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸à¸à¸£à¹‰à¸­à¸¡à¸¢à¸·à¸™à¸¢à¸±à¸™à¸­à¸µà¹€à¸¡à¸¥
- **Password Reset**: à¸Ÿà¸­à¸£à¹Œà¸¡à¸£à¸µà¹€à¸‹à¹‡à¸•à¹à¸¥à¸°à¸­à¸±à¸›à¹€à¸”à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- **Email Confirmation**: à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸­à¸µà¹€à¸¡à¸¥à¸œà¹ˆà¸²à¸™ Supabase Auth
- **Protected Routes**: à¸à¸²à¸£à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢ middleware
- **Session Management**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ session à¹à¸¥à¸° automatic logout

### ğŸ’¬ **Chat Interface**
- **Chat Layout**: Layout à¸«à¸¥à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¸™à¹‰à¸²à¹à¸Šà¸— (authenticated users only)
- **Chat Sidebar**: à¹à¸–à¸šà¸‚à¹‰à¸²à¸‡à¸à¸£à¹‰à¸­à¸¡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²
- **Chat History**: à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¹à¸¥à¸°à¹à¸ªà¸”à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Optimistic Session Management**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ session à¹à¸šà¸š optimistic à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸£à¸§à¸”à¹€à¸£à¹‡à¸§
- **Smart Message Summarization**: à¸£à¸°à¸šà¸šà¸ªà¸£à¸¸à¸›à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸«à¸¢à¸±à¸” token
- **Token Management**: à¸à¸²à¸£à¸™à¸±à¸šà¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£ token à¸”à¹‰à¸§à¸¢ tiktoken
- **Model Selector**: à¹€à¸¥à¸·à¸­à¸ AI model à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (OpenAI, Google AI, etc.)
- **Individual Chat Pages**: à¸«à¸™à¹‰à¸²à¹à¸ªà¸”à¸‡à¸à¸²à¸£à¸ªà¸™à¸—à¸™à¸²à¹à¸•à¹ˆà¸¥à¸°à¹€à¸£à¸·à¹ˆà¸­à¸‡à¹à¸šà¸šà¹à¸¢à¸à¸«à¸™à¹‰à¸²
- **Message Components**: 
  - à¸Ÿà¸­à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸¥à¸° AI à¹à¸¢à¸à¸ˆà¸²à¸à¸à¸±à¸™
  - Markdown rendering à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸—à¸µà¹ˆà¸¡à¸µà¸à¸²à¸£à¸ˆà¸±à¸”à¸£à¸¹à¸›à¹à¸šà¸š
  - **LaTeX/Math Support**: à¹à¸ªà¸”à¸‡à¸ªà¸¹à¸•à¸£à¸—à¸²à¸‡à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œà¸”à¹‰à¸§à¸¢ KaTeX
    - à¸£à¸­à¸‡à¸£à¸±à¸š inline math: `\( à¸ªà¸¹à¸•à¸£ \)` â†’ $à¸ªà¸¹à¸•à¸£$
    - à¸£à¸­à¸‡à¸£à¸±à¸š display math: `\[ à¸ªà¸¹à¸•à¸£ \]` â†’ $$à¸ªà¸¹à¸•à¸£$$
    - à¹à¸›à¸¥à¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ˆà¸²à¸ AI response format
  - Code block component à¸à¸£à¹‰à¸­à¸¡ syntax highlighting
- **Prompt Input**: Input component à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡à¸à¸£à¹‰à¸­à¸¡ auto-resize
- **New Chat Features**: 
  - à¸›à¸¸à¹ˆà¸¡à¹€à¸£à¸´à¹ˆà¸¡à¹à¸Šà¸—à¹ƒà¸«à¸¡à¹ˆ (simple à¹à¸¥à¸° advanced)
  - à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ chat sessions
- **Scroll Features**: à¸›à¸¸à¹ˆà¸¡ scroll to bottom à¹à¸¥à¸° auto-scroll
- **Loading States**: Skeleton components à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹‚à¸«à¸¥à¸”

### ğŸ¨ **Design System (Shadcn/UI)**
- **Base Components**: Button, Card, Input, Label, Textarea
- **Layout Components**: Sheet, Sidebar, Separator, Popover
- **Feedback Components**: Tooltip, Avatar, Skeleton
- **Consistent Styling**: à¸à¸²à¸£à¹ƒà¸Šà¹‰ Tailwind CSS à¹à¸¥à¸° CVA (Class Variance Authority)
- **Dark/Light Mode Support**: à¸£à¸­à¸‡à¸£à¸±à¸š theme switching
- **Accessibility**: à¸£à¸­à¸‡à¸£à¸±à¸š screen readers à¹à¸¥à¸° keyboard navigation
- **Responsive Design**: à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¹‰à¸‡à¹€à¸”à¸ªà¸à¹Œà¸—à¹‡à¸­à¸›à¹à¸¥à¸°à¸¡à¸·à¸­à¸–à¸·à¸­

### âš™ï¸ **Settings & Configuration**
- **Settings Tabs System**: à¹à¸šà¹ˆà¸‡à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹€à¸›à¹‡à¸™ tabs à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¹ˆà¸‡à¹ˆà¸²à¸¢
  - **Account Tab**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸šà¸±à¸à¸Šà¸µà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
  - **Connectors Tab**: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² AI providers à¹à¸¥à¸° API connections
  - **Data Controls Tab**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§
  - **General Tab**: à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸—à¸±à¹ˆà¸§à¹„à¸›à¸‚à¸­à¸‡à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™
  - **Notifications Tab**: à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™
  - **Personalization Tab**: à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡à¸˜à¸µà¸¡à¹à¸¥à¸° UI preferences
  - **Schedules Tab**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸•à¸²à¸£à¸²à¸‡à¹€à¸§à¸¥à¸²à¹à¸¥à¸° automation
  - **Security Tab**: à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸° authentication
- **User Preferences**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ preferences à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **Theme Management**: à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ theme à¹à¸¥à¸° appearance

### ğŸ§© **State Management & Hooks**
- **Chat Context**: Global state management à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹à¸Šà¸—
  - Message history à¹à¸¥à¸° conversation state
  - Chat settings à¹à¸¥à¸° user preferences
  - Real-time updates à¹à¸¥à¸° synchronization
- **Custom Hooks**: 
  - **useMobile**: Hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£ responsive design
  - **useChatHistory**: Hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹à¸Šà¸—
  - **useChatSessions**: Hook à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£ chat sessions
  - **Auto-responsive**: à¸à¸²à¸£à¸›à¸£à¸±à¸š UI à¸•à¸²à¸¡à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­à¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Context Providers**: Centralized state management pattern

### ğŸš€ **Performance & Optimization Features**
- **Optimistic UI Updates**: à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸• UI à¹à¸šà¸š optimistic à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸£à¸§à¸”à¹€à¸£à¹‡à¸§
- **Token Counting & Management**: à¸à¸²à¸£à¸™à¸±à¸šà¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£ token à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- **Message Trimming**: à¸à¸²à¸£à¸•à¸±à¸”à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¸à¹ˆà¸²à¹€à¸à¸·à¹ˆà¸­à¹„à¸¡à¹ˆà¹ƒà¸«à¹‰à¹€à¸à¸´à¸™ token limit
- **Smart Summarization**: à¸à¸²à¸£à¸ªà¸£à¸¸à¸›à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸«à¸¢à¸±à¸” token
- **Database Connection Pooling**: à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ database connection à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- **Background Task Processing**: à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ task à¹ƒà¸™à¹€à¸šà¸·à¹‰à¸­à¸‡à¸«à¸¥à¸±à¸‡à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸š UX
- **Stream Processing**: à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ streaming response à¹à¸šà¸š real-time
- **Vector Search Optimization**: à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸² vector embeddings à¸”à¹‰à¸§à¸¢ pgvector
- **Document Caching**: à¸à¸²à¸£ cache à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸µà¹ˆà¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹à¸¥à¹‰à¸§à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸à¸—à¸µà¹ˆà¸”à¸µà¸‚à¸¶à¹‰à¸™

### ğŸ”§ **Developer Features**
- **Modular API Design**: API endpoints à¹à¸¢à¸à¸•à¸²à¸¡ functionality
- **Tutorial Endpoints**: Step-by-step learning endpoints (chat_01 à¸–à¸¶à¸‡ chat_09)
- **Progressive Learning Path**: à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸ˆà¸²à¸à¸à¸·à¹‰à¸™à¸à¸²à¸™à¹„à¸›à¸ªà¸¹à¹ˆà¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
  - Basic chat â†’ Request handling â†’ Templates â†’ Streaming â†’ History â†’ Optimization â†’ Tool Calling â†’ RAG
- **Error Handling**: Comprehensive error handling à¹à¸¥à¸° user feedback
- **Type Safety**: TypeScript à¸—à¸±à¹ˆà¸§à¸—à¸±à¹‰à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œ
- **Context Pattern**: React Context API à¸ªà¸³à¸«à¸£à¸±à¸š global state management
- **Custom Hooks**: Reusable hooks à¸ªà¸³à¸«à¸£à¸±à¸š common functionalities
- **Responsive Design**: Built-in mobile detection à¹à¸¥à¸° adaptive UI
- **Component Architecture**: Modular à¹à¸¥à¸° reusable component design
- **Database Schema**: Well-structured PostgreSQL schema à¸ªà¸³à¸«à¸£à¸±à¸š chat à¹à¸¥à¸° session management
- **Performance Monitoring**: Built-in logging à¹à¸¥à¸° performance tracking
- **RAG Pipeline**: Complete RAG implementation à¸à¸£à¹‰à¸­à¸¡ document processing
- **Vector Database**: pgvector integration à¸ªà¸³à¸«à¸£à¸±à¸š semantic search

## ğŸ” Environment Variables

à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™à¹„à¸”à¹€à¸£à¸à¸—à¸­à¸£à¸µà¸«à¸¥à¸±à¸à¹à¸¥à¸°à¹€à¸à¸´à¹ˆà¸¡à¸•à¸±à¸§à¹à¸›à¸£à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰:

| à¸•à¸±à¸§à¹à¸›à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ | à¸ˆà¸³à¹€à¸›à¹‡à¸™ |
|--------|----------|--------|
| `NEXT_PUBLIC_SUPABASE_URL` | URL à¸‚à¸­à¸‡ Supabase project | âœ… à¹ƒà¸Šà¹ˆ |
| `NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY` | Supabase Anon/Public key | âœ… à¹ƒà¸Šà¹ˆ |
| `PG_HOST` | à¹‚à¸®à¸ªà¸•à¹Œà¸‚à¸­à¸‡ PostgreSQL (à¸–à¹‰à¸²à¹ƒà¸Šà¹‰ RAG + pgvector) | âœ… à¹ƒà¸Šà¹ˆ |
| `PG_PORT` | à¸à¸­à¸£à¹Œà¸•à¸‚à¸­à¸‡ PostgreSQL (default: 6543) | | à¹„à¸¡à¹ˆ |
| `PG_USER` | à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ PostgreSQL | âœ… à¹ƒà¸Šà¹ˆ |
| `PG_PASSWORD` | à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™ PostgreSQL | âœ… à¹ƒà¸Šà¹ˆ |
| `PG_DATABASE` | à¸Šà¸·à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ PostgreSQL | à¹„à¸¡à¹ˆ |
| `OPENAI_API_KEY` | OpenAI API key à¸‚à¸­à¸‡à¸„à¸¸à¸“ | âœ… à¹ƒà¸Šà¹ˆ |
| `OPENAI_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥ OpenAI à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ | à¹„à¸¡à¹ˆ (default: gpt-4o-mini) |
| `OPENAI_EMBEDDING_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥ embedding à¸‚à¸­à¸‡ OpenAI | à¹„à¸¡à¹ˆ (default: text-embedding-3-small) |
| `GOOGLE_API_KEY` | Google AI API key (à¸ªà¸³à¸«à¸£à¸±à¸š Gemini) | à¹„à¸¡à¹ˆ |
| `GOOGLE_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥ Google à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ | à¹„à¸¡à¹ˆ (default: gemini-2.0-flash-exp) |
| `AZURE_OPENAI_API_KEY` | Azure OpenAI API key | à¹„à¸¡à¹ˆ |
| `AZURE_OPENAI_API_INSTANCE_NAME` | Azure OpenAI instance name | à¹„à¸¡à¹ˆ |
| `AZURE_OPENAI_API_DEPLOYMENT_NAME` | Azure OpenAI deployment name | à¹„à¸¡à¹ˆ |
| `AZURE_OPENAI_API_VERSION` | Azure OpenAI API version | à¹„à¸¡à¹ˆ |
| `OPENROUTER_API_KEY` | OpenRouter API key | à¹„à¸¡à¹ˆ |
| `OPENROUTER_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸™ OpenRouter | à¹„à¸¡à¹ˆ |
| `OLLAMA_BASE_URL` | Ollama server URL | à¹„à¸¡à¹ˆ (default: http://localhost:11434) |
| `OLLAMA_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸™ Ollama | à¹„à¸¡à¹ˆ |
| `VLLM_BASE_URL` | vLLM server URL | à¹„à¸¡à¹ˆ |
| `VLLM_MODEL_NAME` | à¸Šà¸·à¹ˆà¸­à¹‚à¸¡à¹€à¸”à¸¥à¹ƒà¸™ vLLM | à¹„à¸¡à¹ˆ |
| `GRADIENT_ACCESS_TOKEN` | Gradient AI access token | à¹„à¸¡à¹ˆ |
| `GRADIENT_WORKSPACE_ID` | Gradient AI workspace ID | à¹„à¸¡à¹ˆ |
| `GRADIENT_MODEL_ID` | Gradient AI model ID | à¹„à¸¡à¹ˆ |

### à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ .env
```env
# === Supabase config (à¸ˆà¸³à¹€à¸›à¹‡à¸™) =====
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your-anon-key

# ===  postgres config =====
# à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸±à¸š RAG + LangChain + pgvector à¹à¸™à¸°à¸™à¸³à¹€à¸›à¹‡à¸™à¹à¸šà¸š Transaction pooler (Shared Pooler)
PG_HOST=your-postgres-host
PG_PORT=6543
PG_USER=your-postgres-user
PG_PASSWORD=your-postgres-password
PG_DATABASE=postgres

# === OPENAI (ChatGPT) - à¸ˆà¸³à¹€à¸›à¹‡à¸™ =====
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL_NAME="gpt-4o-mini"
OPENAI_EMBEDDING_MODEL_NAME="text-embedding-3-small"

# === GOOGLE (Gemini) - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
GOOGLE_API_KEY=your-google-api-key
GOOGLE_MODEL_NAME="gemini-2.0-flash-exp"

# === AZURE OPENAI - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
AZURE_OPENAI_API_KEY=your-azure-api-key
AZURE_OPENAI_API_INSTANCE_NAME=your-instance-name
AZURE_OPENAI_API_DEPLOYMENT_NAME=your-deployment-name
AZURE_OPENAI_API_VERSION="2024-02-15-preview"

# === OPENROUTER - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
OPENROUTER_API_KEY=sk-or-v1-your-api-key
OPENROUTER_MODEL_NAME="meta-llama/llama-3.2-3b-instruct:free"

# === OLLAMA (Local) - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
OLLAMA_BASE_URL="http://localhost:11434"
OLLAMA_MODEL_NAME="llama3.2"

# === vLLM (Self-hosted) - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
VLLM_BASE_URL="http://localhost:8000"
VLLM_MODEL_NAME="microsoft/DialoGPT-medium"

# === GRADIENT AI - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
GRADIENT_ACCESS_TOKEN=your-gradient-access-token
GRADIENT_WORKSPACE_ID=your-workspace-id
GRADIENT_MODEL_ID=your-model-id

# === PostgreSQL (Local) - à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š =====
PG_HOST=localhost
PG_PORT=5432
PG_USER=your-postgres-user
PG_PASSWORD=your-postgres-password
PG_DATABASE=aichatbot_db
```

**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸**: 
- à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰ provider à¹€à¸”à¸µà¸¢à¸§à¸«à¸£à¸·à¸­à¸«à¸¥à¸²à¸¢ providers à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™à¹„à¸”à¹‰ à¹‚à¸”à¸¢à¸£à¸°à¸šà¸šà¸ˆà¸°à¹€à¸¥à¸·à¸­à¸à¹ƒà¸Šà¹‰ provider à¹à¸£à¸à¸—à¸µà¹ˆà¸¡à¸µ environment variables à¸„à¸£à¸š
- à¸ªà¸³à¸«à¸£à¸±à¸š PostgreSQL: à¸«à¸²à¸à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸à¸³à¸«à¸™à¸” à¸ˆà¸°à¹ƒà¸Šà¹‰ Supabase PostgreSQL à¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡: à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² PostgreSQL à¹à¸¢à¸à¸•à¹ˆà¸²à¸‡à¸«à¸²à¸à¹€à¸à¸·à¹ˆà¸­ performance à¸—à¸µà¹ˆà¸”à¸µà¸‚à¸¶à¹‰à¸™

## ğŸ“š à¹à¸«à¸¥à¹ˆà¸‡à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰

- [à¹€à¸­à¸à¸ªà¸²à¸£ Next.js](https://nextjs.org/docs)
- [à¹€à¸­à¸à¸ªà¸²à¸£ LangChain](https://langchain.com/docs)
- [à¹€à¸­à¸à¸ªà¸²à¸£ AI SDK](https://sdk.vercel.ai)
- [à¹€à¸­à¸à¸ªà¸²à¸£ OpenAI API](https://platform.openai.com/docs)

